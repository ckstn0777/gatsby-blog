---
title: 'Managing Versioning with Gits'
date: '2021-02-18'
category: 'Git'
tags:
  - 'git'
featuredImage: './images/image.png'
---

## 깃 저장소 만들기

### 깃 초기화 하기 - git init

먼저 깃 저장소를 만들 디렉토리를 하나 새로 만들겠다. 여기서는 hello-git이라는 디렉토리를 만들겠다. 이 디렉터리에 저장소를 만들기 위해 다음과 같이 `$ git init` 명령을 입력한다. 깃을 사용할 수 있도록 디렉토리를 초기화하는 것이다.

<!-- end -->

그런 다음 `$ ls -al`명령을 실행시켜 현재 디렉토리안의 내용을 확인해보면 다음과 같이 나온다. `.git`이라는 디렉터리가 새로 생긴것을 알 수 있는데 이 디렉터리가 깃을 사용하면서 버전이 저장될 **저장소(repository)**를 의미한다.

<br>

## 버전 만들기

### 버전과 버전관리

깃의 버전을 보면 현재 v2.30.0이다. 이처럼 프로그램이나 앱을 설치하다보면 버전이란 말을 자주 접하게 된다. 프로그램 개발에서는 수정 내용이 쌓이면 새로 번호를 붙여서 이전 상태와 구분하는 것이 버전인 것이다. 가장 앞 숫자는 큰 변화를 의미하며 뒤로 갈수록 작은 변화를 의미한다.

깃으로 버전을 관리하면 원래 파일 이름은 그대로 유지하면서 파일에서 무엇을 변경했는지를 변경 시점마다 저장할 수 있으며 각 버전마다 작업했던 내용을 확인할 수도 있고 그 버전으로 되돌아갈 수도 있다.

### 스테이지와 커밋 이해하기

깃은 어떻게 파일 이름은 그대로 유지하면서 수정 내역을 기록할까? 🤔 깃을 처음 공부할때 한번에 이해하기 힘든 이유가 이 과정이 생소할 뿐만 아니라 눈에 보이지 않는 가상의 개념이 등장하기 때문이다.

깃은 크게 3가지 영역으로 나뉜다.

- 작업 트리(Working tree) : 작업 트리는 파일 수정, 저장 등의 작업을 하는 디렉토리로 앞에 만들었던 hello-git 디렉터리가 작업트리가 된다.
- 스테이지 : 버전으로 만들 파일이 대기하는 곳이다. 예를 들어 작업 트리에서 10개의 파일만 수정했는데 4개의 파일만 버전으로 만들려면 4개의 파일만 스테이지로 넘겨주면 된다.
- 저장소 : 스테이지에서 대기하고 있던 파일들을 버전으로 만들어 자장하는 곳이다.

> 🚨 주의. 스테이지와 저장소는 눈에 보이지 않는다. `.git` 디렉터리 안에 숨은 파일 형태로 존재하는 영역이다.

깃이 버전을 만드는 과정은 다음과 같다.

1. hello.txt 파일 문서를 수정하고 저장하면 그 파일은 작업 트리에 있게 된다.
2. 수정한 hello.txt 파일을 버전으로 만들고 싶을때 스테이지에 넣는다. 다른 파일도 수정한 뒤 버전으로 만들겠다면 스테이지에 넣는다.
3. 파일 수정을 끝내고 스테이지에 다 넣었다면 버전을 만들기 위해 깃에게 커밋 명령을 내린다. 커밋 명령을 내리면 새로운 버전이 생성되면서 스테이지에 대기하던 파일이 모두 저장소에 저장된다.

### 실습

이제부터 작업 트리에서 문서를 직접 수정한 다음 스테이지에 올리고 최종적으로 저장소까지 커밋하는 실습을 진행하겠다.

#### 1단계. 작업 트리에서 Vim으로 문서 수정하기

먼저 깃 상태를 확인하려면 다음과 같이 입력 후 실행하면 된다.

```shell
$ git status
```

깃의 상태를 나타내는 메시지가 나타나는데 그 의미는 다음과 같다.

- On branch master : 현재 master 브랜치에 있다. master 브랜치가 무엇인지 나중에 자세히 알아볼 예정이다.
- No commits yet : 아직 커밋한 파일이 없다.
- nothing to commit : 현재 커밋할 파일이 없다.

이제 hello-git 디렉터리에 새로운 파일을 만들어보겠다. `$ vim hello.txt`를 입력해 파일을 만들자. 간단하게 숫자 '1'을 입력한 다음 저장하고 나온다. 그런 다음 다시 한번 깃 상태를 확인해보자.
